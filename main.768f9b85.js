!function(e){function t(t){for(var r,l,c=t[0],i=t[1],o=t[2],f=0,d=[];f<c.length;f++)l=c[f],a[l]&&d.push(a[l][0]),a[l]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r]);for(s&&s(t);d.length;)d.shift()();return u.push.apply(u,o||[]),n()}function n(){for(var e,t=0;t<u.length;t++){for(var n=u[t],r=!0,c=1;c<n.length;c++){var i=n[c];0!==a[i]&&(r=!1)}r&&(u.splice(t--,1),e=l(l.s=n[0]))}return e}var r={},a={0:0},u=[];function l(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,l),n.l=!0,n.exports}l.m=e,l.c=r,l.d=function(e,t,n){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},l.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(l.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)l.d(n,r,function(t){return e[t]}.bind(null,r));return n},l.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="./";var c=window.webpackJsonp=window.webpackJsonp||[],i=c.push.bind(c);c.push=t,c=c.slice();for(var o=0;o<c.length;o++)t(c[o]);var s=i;u.push([18,1]),n()}([,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(8);t.setCurrency=function(e){return{type:r.SET_CURRENCY,payload:e}},t.setTransfers=function(e){return{type:r.SET_TRANSFERS,payload:e}},t.setTickets=function(e){return{type:r.SET_TICKETS,payload:e}}},,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SET_CURRENCY="SET_CURRENCY",t.SET_TRANSFERS="SET_TRANSFERS",t.SET_TICKETS="SET_TICKETS"},,,,,,,,,,function(e,t,n){e.exports=n(19)},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),n(20),n(22);var a=r(n(24)),u=r(n(0)),l=n(40);n(48),l.render(u.default.createElement(a.default,null),document.getElementById("app"))},function(e,t,n){},,,,function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},u=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var l=a(n(25)),c=a(n(34)),i=a(n(38)),o=n(5),s=u(n(0)),f=n(2),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.componentWillMount=function(){this.fetchTickets().then(function(e){i.default.dispatch(o.setTickets(e))})},t.prototype.fetchTickets=function(){return fetch("https://raw.githubusercontent.com/KosyanMedia/test-tasks/master/aviasales/tickets.json").then(function(e){return e.json()}).then(function(e){return e&&e.tickets})},t.prototype.render=function(){return s.default.createElement("div",{className:"b-application"},s.default.createElement("div",{className:"b-application__header"},s.default.createElement("div",{className:"b-container"},s.default.createElement("img",{className:"b-application__logo",src:"logo.svg",alt:"Aviasales",width:"82",height:"88"}))),s.default.createElement("div",{className:"b-application__body"},s.default.createElement("div",{className:"b-container"},s.default.createElement("div",{className:"b-application__sidebar"},s.default.createElement(l.default,null)),s.default.createElement("div",{className:"b-application__content"},s.default.createElement(c.default,null)))))},t}(s.Component);t.default=function(){return s.default.createElement(f.Provider,{store:i.default},s.default.createElement(d,null))}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(26)),u=r(n(31)),l=r(n(0));t.default=function(){return l.default.createElement("div",{className:"b-widget b-filterset"},l.default.createElement("div",{className:"b-filterset__group"},l.default.createElement("div",{className:"b-filterset__title"},"Валюта"),l.default.createElement(a.default,null)),l.default.createElement("div",{className:"b-filterset__group"},l.default.createElement("div",{className:"b-filterset__title"},"Количество пересадок"),l.default.createElement(u.default,null)))}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(5),u=r(n(9)),l=r(n(0)),c=n(2),i=["RUB","USD","EUR"];t.default=c.connect(function(e){return{value:e.currency}},function(e){return{onChange:function(t){e(a.setCurrency(t))}}})(function(e){return l.default.createElement("div",{className:"b-currency"},i.map(function(t){return function(e,t){var n=e===t.value;return l.default.createElement("div",{className:"b-currency__label",key:e},l.default.createElement("button",{className:u.default("b-currency__button",{"b-currency__button--active":n}),onClick:function(){return t.onChange&&t.onChange(e)}},e))}(t,e)}))})},,,,,function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},u=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var l=n(5),c=a(n(9)),i=a(n(32)),o=a(n(33)),s=a(n(14)),f=u(n(0)),d=n(2),_=[0,1,2,3],p=function(e){var t,n=e.active,r=e.target,a=e.only,u=e.onSelect,l=e.onSelectOnly;return f.default.createElement("div",{className:c.default("b-transfers__item",(t={},t["b-transfers__item--active"]=n,t)),onClick:u},f.default.createElement("div",{className:"b-transfers__label"},"number"==typeof r?0===r?"Без пересадок":s.default(r,"%d пересадка","%d пересадки","%d пересадок"):r),!1!==a&&f.default.createElement("button",{className:"b-transfers__only",onClick:function(e){e.stopPropagation(),l&&l(e)}},"Только"))},m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isAllSelected=function(){return _.every(function(e){return t.isSelected(e)})},t.isSelected=function(e){return-1!==(t.props.value||[]).indexOf(e)},t.selectAll=function(){var e=t.props.onChange||i.default;t.isAllSelected()?e([]):e(_)},t.select=function(e){var n=t.props.value||[],r=t.props.onChange||i.default;t.isSelected(e)?r(n.filter(function(t){return t!==e})):r(o.default([e].concat(n)))},t.selectOnly=function(e){(t.props.onChange||i.default)([e])},t}return r(t,e),t.prototype.render=function(){var e=this,t=this.select,n=this.selectOnly;return f.default.createElement("div",{className:"b-transfers"},f.default.createElement(p,{target:"Все",only:!1,active:this.isAllSelected(),onSelect:this.selectAll}),_.map(function(r){return f.default.createElement(p,{key:r,target:r,active:e.isSelected(r),onSelect:t.bind(e,r),onSelectOnly:n.bind(e,r)})}))},t}(f.Component);t.default=d.connect(function(e){return{value:e.transfers}},function(e){return{onChange:function(t){e(l.setTransfers(t))}}})(m)},,,function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(35)),u=n(37),l=r(n(0)),c=n(2);t.default=c.connect(function(e){return{tickets:u.filteredTickets(e)}})(function(e){var t=e.tickets,n=void 0===t?[]:t;return l.default.createElement("div",{className:"b-tickets"},n.map(function(e,t){return l.default.createElement(a.default,{ticket:e,key:t})}))})},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(36)),u=r(n(0)),l=n(2),c={RUB:{rate:1,chartCode:8381},USD:{rate:.016,chartCode:36},EUR:{rate:.014,chartCode:8364}},i=function(e,t){var n=c[t||"RUB"],r=n.rate,a=n.chartCode,l=(e*r).toFixed();return u.default.createElement("div",{className:"b-ticket__price"},"за ",function(e){return Number(e).toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")}(l)," ",String.fromCharCode(a))};t.default=l.connect(function(e){return{currency:e.currency}})(function(e){var t=e.ticket,n=e.currency;return u.default.createElement("div",{className:"b-widget b-ticket"},u.default.createElement("div",{className:"b-ticket__offer"},u.default.createElement("img",{alt:t.carrier,className:"b-ticket__provider",src:"//pics.avs.io/99/36/"+t.carrier+".png",srcSet:"//pics.avs.io/99/36/"+t.carrier+"@2x.png 2x",width:"99",height:"36"}),u.default.createElement("button",{className:"b-ticket__button"},u.default.createElement("div",{className:"b-ticket__buy"},"Купить"),i(t.price,n))),u.default.createElement("div",{className:"b-ticket__details"},u.default.createElement(a.default,{ticket:t})))})},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(14)),u=r(n(0));t.default=function(e){var t=e.ticket;return u.default.createElement("div",{className:"b-route"},u.default.createElement("div",{className:"b-route__from"},u.default.createElement("div",{className:"b-route__time"},t.departure_time),u.default.createElement("div",{className:"b-route__location"},t.origin,", ",t.origin_name),u.default.createElement("div",{className:"b-route__date"},t.departure_date)),u.default.createElement("div",{className:"b-route__path"},t.stops>0?a.default(t.stops,"%d пересадка","%d пересадки","%d пересадок"):null),u.default.createElement("div",{className:"b-route__to"},u.default.createElement("div",{className:"b-route__time"},t.arrival_time),u.default.createElement("div",{className:"b-route__location"},t.destination,", ",t.destination_name),u.default.createElement("div",{className:"b-route__date"},t.arrival_date)))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.filteredTickets=function(e){var t=e.tickets;return t=t.filter(function(t){return-1!==e.transfers.indexOf(t.stops)})}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(3),u=r(n(39)),l=window.__REDUX_DEVTOOLS_EXTENSION__;t.default=a.createStore(u.default,l&&l())},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),a=n(8);t.default=r.combineReducers({currency:function(e,t){void 0===e&&(e="RUB");var n=t.type,r=t.payload;return n===a.SET_CURRENCY?r:e},transfers:function(e,t){void 0===e&&(e=[0,1,2,3]);var n=t.type,r=t.payload;return n===a.SET_TRANSFERS?r:e},tickets:function(e,t){void 0===e&&(e=[]);var n=t.type,r=t.payload;return n===a.SET_TICKETS?r:e}})}]);
//# sourceMappingURL=main.768f9b85.js.map